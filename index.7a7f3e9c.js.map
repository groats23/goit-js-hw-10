{"mappings":"YAC2C,IAArCA,EACJ,wEA+BK,SAASC,EAAgBC,GAC9B,IAAMC,EAAM,wDAAgEC,OAARF,GAGhC,OAClCG,MAAMF,EAAK,CACTG,QAAS,CACP,YAAaN,KAGdO,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,uBAElB,OAAOF,EAASG,M,IAGjBJ,MAAK,SAAAK,GACJ,OAAOA,EAAK,E,IC5CE,IAAhBC,EAAgBC,SAASC,eAAe,iBACxCC,EAAgBF,SAASG,cAAc,WACvCC,EAAeJ,SAASG,cAAc,UACtCE,EAAiBL,SAASG,cAAc,aAuCd,SAAvBG,IACPJ,EAAcK,MAAMC,QAAU,M,CAIF,SAArBC,IACPC,SAASC,OAAOC,QAAQ,iD,CAIM,SAAvBC,IACPT,EAAaG,MAAMC,QAAU,M,CDlD3BjB,MAJU,sCAIC,CACTC,QAAS,CACP,YAAaN,KAI+DO,MAAxE,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,0BAElB,OAAOF,EAASG,M,IAG0BJ,MAAtC,SAAAK,GACJ,OAAOA,EAAKgB,KAAI,SAAAC,G,MAAU,CACxBC,GAAID,EAAMC,GACVC,KAAMF,EAAME,K,OCV4BxB,MAA1C,SAAAyB,GACJA,EAAOC,SAAQ,SAAAJ,GACb,IAAMK,EAASpB,SAASqB,cAAc,UACtCD,EAAOE,MAAQP,EAAMC,GACrBI,EAAOG,YAAcR,EAAME,KAC3BlB,EAAcyB,YAAYJ,E,IAISrB,EAAvB0B,iBAAiB,UAAU,WACvC,IAAMrC,EAAUW,EAAcuB,MAmBlCpB,EAAcK,MAAMC,QAAU,QAjB1BK,IAEA1B,EAAgBC,GACbK,MAAK,SAAAiC,G,OAkCoC,SAA1BA,GACtBxB,EAAcK,MAAMC,QAAU,OAC9BH,EAAesB,UAAY,mBAEnBrC,OADMoC,EAAIE,IAAI,gCAEftC,OADCoC,EAAIR,OAAO,GAAGD,KAAK,kBAEP3B,OADboC,EAAIR,OAAO,GAAGW,YAAY,8BACavC,OAA1BoC,EAAIR,OAAO,GAAGY,YAAY,YAE9CzB,EAAeE,MAAMC,QAAU,O,CA1CZuB,CAAeL,E,IAC3BM,OAAM,SAAAC,G,OAASxB,G,OAIqCH,G,IAE1D0B,OAAM,SAAAC,GACLxB,IACAH,G,IAoCJO,G","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["// В змінну задаємо ключ API який получили при реєстрації\nconst API_KEY =\n  'live_1SLi0nwDKLs9tE67PgHRv7wAvhwYEp2lyKt4wusq54NRJSTrg81S8J9zXoQW5oKl';\n\n// Робимо HTTP запит до ресурсу\nexport function fetchBreeds() {\n  const URL = 'https://api.thecatapi.com/v1/breeds';\n\n  // Отримуємо список порід котів з значенням нашого ключа\n  return (\n    fetch(URL, {\n      headers: {\n        'x-api-key': API_KEY,\n      },\n    })\n      //Після запиту повертається проміс с сервера. Обробляємо відповідь та перетворюємо в json формат\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to fetch breeds');\n        }\n        return response.json();\n      })\n      // Перебераємо та витягуємо з оюєктів що нам потрібно\n      .then(data => {\n        return data.map(breed => ({\n          id: breed.id,\n          name: breed.name,\n        }));\n      })\n  );\n}\n\n// Робимо HTTP запит до ресурсу з значенням breedId щоб отримати інфу про кота\nexport function fetchCatByBreed(breedId) {\n  const URL = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n\n  // Получаємо список з значенням нашого ключа\n  return (\n    fetch(URL, {\n      headers: {\n        'x-api-key': API_KEY,\n      },\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to fetch cat');\n        }\n        return response.json();\n      })\n      // Обробляємо та повертаємо тіки першийобєкт з масиву\n      .then(data => {\n        return data[0];\n      })\n  );\n}\n\n// export default { fetchBreeds, fetchCatByBreed };\n\n/**\n  |==================================\n\n   // // https://api.thecatapi.com/v1/images/search?limit=10&breed_ids=beng&api_key=live_1SLi0nwDKLs9tE67PgHRv7wAvhwYEp2lyKt4wusq54NRJSTrg81S8J9zXoQW5oKl\n\n// const URL =\n//   'https://api.thecatapi.com/v1/breeds';\n// const API_KEY =\n//   'live_1SLi0nwDKLs9tE67PgHRv7wAvhwYEp2lyKt4wusq54NRJSTrg81S8J9zXoQW5oKl';\n\n// function fetchBreeds(query) {\n//   return fetch(`${URL}?apiKey=${API_KEY}&katze=${query}`).then(res =>\n//     res.json()\n//   );\n// }\n\n// export default { fetchBreeds };\n\n  |==================================\n*/\n","// Робимо імпорти.\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n// import catAPI from './cat-api.js';\nimport './styles.css';\n// import Notiflix from 'notiflix';\n\n// Звертаємось до елементів html.\nconst selectElement = document.getElementById('selectElement');\nconst loaderElement = document.querySelector('.loader');\nconst errorElement = document.querySelector('.error');\nconst catInfoElement = document.querySelector('.cat-info');\n\n// Отримаємо списоккотів\n\nfetchBreeds()\n  // Приймаємо список з параметром breeds. Створюємо новіелементи.\n  .then(breeds => {\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      selectElement.appendChild(option);\n    });\n\n    // Робимо слухача подій для вибора породи кота.\n    selectElement.addEventListener('change', () => {\n      const breedId = selectElement.value;\n      showLoader();\n      hideError();\n      // Запит для полученняінфи про кота.\n      fetchCatByBreed(breedId)\n        .then(cat => displayCatInfo(cat))\n        .catch(error => displayError());\n    });\n\n    // Приховуємо завантажувач після завершення отримання списку котів.\n    hideLoader();\n  })\n  .catch(error => {\n    displayError();\n    hideLoader(); // Приховуємо завантажувач у випадку помилки.\n  });\n\n// Робимо видимим елемент на сторінці.\nfunction showLoader() {\n  loaderElement.style.display = 'block';\n}\n\n// Робимо нивидимим елемент на сторінці.\nfunction hideLoader() {\n  loaderElement.style.display = 'none';\n}\n\n// Робимо видимою помилку на сторінці.\nfunction displayError() {\n  Notiflix.Notify.failure('Сталася помилка. Будь ласка, спробуйте ще раз.');\n}\n\n// Робимо нивидимою помилку на сторінці.\nfunction hideError() {\n  errorElement.style.display = 'none';\n}\n\n// Робимо відображення інфи в елементі catInfoElement та вказуємо в елементи html.\n// Побачимо зображення кота, назву породи, опис та темперамент.\nfunction displayCatInfo(cat) {\n  loaderElement.style.display = 'none';\n  catInfoElement.innerHTML = `\n    <img src=\"${cat.url}\" alt=\"Cat Image\">\n    <h3>${cat.breeds[0].name}</h3>\n    <p>${cat.breeds[0].description}</p>\n    <p>Temperament: ${cat.breeds[0].temperament}</p>\n  `;\n  catInfoElement.style.display = 'block';\n}\n\nhideError();\n\n// function hideCatInfo() {\n//   catInfoElement.innerHTML = '';\n//   catInfoElement.style.display = 'none';\n// }\n\n// // Спочатку приховуємо інформацію про завантажувач, помилку і cat\n// hideLoader();\n// hideError();\n// hideCatInfo();\n\n/**\n  |==================================\n\n   // import API from './cat-api.js';\n\n// API.onSearchKatze('katze-all').then(result => console.log(result));\n\n// const refs = {\n//   breedSelect: document.querySelector('#selectElement'),\n//   catsWrapper: document.querySelector('.cat-info'),\n//   loader: document.querySelector('.loader'),\n//   error: document.querySelector('.error'),\n// };\n\n\n  |==================================\n*/\n"],"names":["$ae0c329fb0fb36dc$var$API_KEY","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","URL","concat","fetch","headers","then","response","ok","Error","json","data","$b8f9b7833fa37166$var$selectElement","document","getElementById","$b8f9b7833fa37166$var$loaderElement","querySelector","$b8f9b7833fa37166$var$errorElement","$b8f9b7833fa37166$var$catInfoElement","$b8f9b7833fa37166$var$hideLoader","style","display","$b8f9b7833fa37166$var$displayError","Notiflix","Notify","failure","$b8f9b7833fa37166$var$hideError","map","breed","id","name","breeds","forEach","option","createElement","value","textContent","appendChild","addEventListener","cat","innerHTML","url","description","temperament","$b8f9b7833fa37166$var$displayCatInfo","catch","error"],"version":3,"file":"index.7a7f3e9c.js.map"}